# Stratascratch SQL Questions

| Difficulty | Solution                                                                                                 | Problem link                                                                                                                                                              | Additional Notes                                                                                                                                    |
|------------|----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------|
| Easy       | [sales-with-valid-promotion](sales-with-valid-promotion.sql)                                             | [link](https://platform.stratascratch.com/coding/2069-sales-with-valid-promotion?code_type=1)                                                                             | when required to find percentage, <br/>consider using sum or avg with case statement                                                                |
| Easy       | [popularity-of-hack](popularity-of-hack.sql)                                                             | [link](https://platform.stratascratch.com/coding/10061-popularity-of-hack?code_type=1)                                                                                    |                                                                                                                                                     |
| Easy       | [mobile-and-web-logins](mobile-and-web-logins.sql)                                                       | [link](https://platform.stratascratch.com/coding/2080-mobile-and-web-logins?code_type=1)                                                                                  |                                                                                                                                                     |
| Easy       | [posts-with-heart-reactions](posts-with-heart-reactions.sql)                                             | [link](https://platform.stratascratch.com/coding/10087-find-all-posts-which-were-reacted-to-with-a-heart?code_type=1)                                                     |                                                                                                                                                     |
| Easy       | [submission-types](submission-types.sql)                                                                 | [link](https://platform.stratascratch.com/coding/2002-submission-types?code_type=1)                                                                                       | Simple question with many solution, but think where + group by + having                                                                             |
| Medium     | [share-of-active-users](share-of-active-users.sql)                                                       | [link](https://platform.stratascratch.com/coding/2005-share-of-active-users?code_type=1)                                                                                  |                                                                                                                                                     |
| Medium     | [successful-lower-priced-products](successful-lower-priced-products.sql)                                 | [link](https://platform.stratascratch.com/coding/2005-share-of-active-users?code_type=1)                                                                                  |                                                                                                                                                     |
| Medium     | [top-three-classes](top-three-classes.sql)                                                               | [link](https://platform.stratascratch.com/coding/2005-share-of-active-users?code_type=1)                                                                                  | rank() over (order by col)                                                                                                                          |
| Medium     | [same-brand-purchases](same-brand-purchases.sql)                                                         | [link](https://platform.stratascratch.com/coding/2071-customers-with-specific-brands?code_type=1)                                                                         |                                                                                                                                                     |
| Medium     | [recommendation-system](recommendation-system.sql)                                                       | [link](https://platform.stratascratch.com/coding/2081-recommendation-system?code_type=1)                                                                                  | where not exists can be used to do anti join                                                                                                        |
| Medium     | [blocked-users](blocked-users.sql)                                                                       | [link](https://platform.stratascratch.com/coding/2084-blocked-users?code_type=1)                                                                                          |                                                                                                                                                     |
| Medium     | [number-of-conversations](number-of-conversations.sql)                                                   | [link](https://platform.stratascratch.com/coding/2086-number-of-conversations?code_type=1)                                                                                |                                                                                                                                                     |
| Medium     | [premium-accounts](premium-accounts.sql)                                                                 | [link](https://platform.stratascratch.com/coding/2097-premium-acounts?code_type=1)                                                                                        |                                                                                                                                                     |
| Medium     | [first-and-last-day-promotions](first-and-last-day-promotions.sql)                                       | [link](https://platform.stratascratch.com/coding/2120-first-and-last-day?code_type=1)                                                                                     |                                                                                                                                                     |
| Medium     | [highest-sales-with-promotion](highest-sales-with-promotion.sql)                                         | [link](https://platform.stratascratch.com/coding/2121-highest-sales-with-promotions?code_type=1)                                                                          |                                                                                                                                                     |
| Medium     | [products-never-sold](products-never-sold.sql)                                                           | [link](https://platform.stratascratch.com/coding/2122-products-never-sold?code_type=1)                                                                                    |                                                                                                                                                     |
| Medium     | [top-two-media-types](top-two-media-types.sql)                                                           | [link](https://platform.stratascratch.com/coding/2124-top-two-media-types?code_type=1)                                                                                    | could also just use a group by and limit 2                                                                                                          |
| Medium     | [customer-consumable-sales-percentages](customer-consumable-sales-percentages.sql)                       | [link](https://platform.stratascratch.com/coding/2149-customer-consumable-sales-percentages?code_type=1)                                                                  |                                                                                                                                                     |
| Medium     | [customers-who-purchased-the-same-product](customers-who-purchased-the-same-product.sql)                 | [link](https://platform.stratascratch.com/coding/2150-customers-who-purchased-the-same-product?code_type=1)                                                               |                                                                                                                                                     |
| Medium     | [sales-evaluation-on-media-formats](sales-evaluation-on-media-formats.sql)                               | [link](https://platform.stratascratch.com/coding/2158-sales-evaluation-on-media-formats?code_type=1)                                                                      |                                                                                                                                                     |
| Medium     | [day-1-common-reactions](day-1-common-reactions.sql)                                                     | [link](https://platform.stratascratch.com/coding/9773-day-1-common-reactions?code_type=1)                                                                                 |                                                                                                                                                     |
| Medium     | [successfully-sent-messages](successfully-sent-messages.sql)                                             | [link](https://platform.stratascratch.com/coding/9777-successfully-sent-messages?code_type=1)                                                                             |                                                                                                                                                     |
| Medium     | [daily-interactions-by-users-count](daily-interactions-by-users-count.sql)                               | [link](https://platform.stratascratch.com/coding/9779-daily-interactions-by-users-count?code_type=1)                                                                      |                                                                                                                                                     |
| Medium     | [find-the-rate-of-processed-tickets-for-each-type](find-the-rate-of-processed-tickets-for-each-type.sql) | [link](https://platform.stratascratch.com/coding/9781-find-the-rate-of-processed-tickets-for-each-type?code_type=1)                                                       |                                                                                                                                                     |
| Medium     | [customer-revenue-in-march](customer-revenue-in-march.sql)                                               | [link](https://platform.stratascratch.com/coding/9782-customer-revenue-in-march?code_type=1)                                                                              |                                                                                                                                                     |
| Medium     | [number-of-approved-friendship](number-of-approved-friendship.sql)                                       | [link](https://platform.stratascratch.com/coding/9789-find-the-total-number-of-approved-friendship-requests-in-january-and-february?code_type=1)                          |                                                                                                                                                     |
| Medium     | [user-feature-completion](user-feature-completion.sql)                                                   | [link](https://platform.stratascratch.com/coding/9792-user-feature-completion?code_type=1)                                                                                |                                                                                                                                                     |
| Medium     | [highest-energy-consumption](highest-energy-consumption.sql)                                             | [link](https://platform.stratascratch.com/coding/10064-highest-energy-consumption?code_type=1)                                                                            |                                                                                                                                                     |
| Medium     | [number-of-seniors](number-of-seniors.sql)                                                               | [link](https://platform.stratascratch.com/coding/10065-find-whether-the-number-of-seniors-works-at-facebook-is-higher-than-its-number-of-usa-based-employees?code_type=1) |                                                                                                                                                     |
| Medium     | [facebook-matching-users-pairs](facebook-matching-users-pairs.sql)                                       | [link](https://platform.stratascratch.com/coding/10085-facebook-matching-users-pairs?code_type=1)                                                                         |                                                                                                                                                     |
| Medium     | [liked-posts](liked-posts.sql)                                                                           | [link](https://platform.stratascratch.com/coding/10088-liked-posts?code_type=1)                                                                                           |                                                                                                                                                     |
| Medium     | [spam-posts](spam-posts.sql)                                                                             | [link](https://platform.stratascratch.com/coding/10134-spam-posts?code_type=1)                                                                                            |                                                                                                                                                     |
| Medium     | [acceptance-rate-by-date](acceptance-rate-by-date.sql)                                                   | [link](https://platform.stratascratch.com/coding/10285-acceptance-rate-by-date?code_type=1)                                                                               |                                                                                                                                                     |
| Medium     | [sms-confirmations-from-users](sms-confirmations-from-users.sql)                                         | [link](https://platform.stratascratch.com/coding/10291-sms-confirmations-from-users?code_type=1)                                                                          |                                                                                                                                                     |
| Medium     | [most-active-users-on-messenger](most-active-users-on-messenger.sql)                                     | [link](https://platform.stratascratch.com/coding/10295-most-active-users-on-messenger?code_type=1)                                                                        |                                                                                                                                                     |
| Medium     | [users-by-avg-session-time](users-by-avg-session-time.sql)                                               | [link](https://platform.stratascratch.com/coding/10352-users-by-avg-session-time?code_type=1)                                                                             |                                                                                                                                                     |
| Medium     | [fridays-likes-count](fridays-likes-count.sql)                                                           | [link](https://platform.stratascratch.com/coding/10364-fridays-likes-count?code_type=1)                                                                                   |                                                                                                                                                     |
| Hard       | [rank-variance-per-country](rank-variance-per-country.sql)                                               | [link](https://platform.stratascratch.com/coding/2007-rank-variance-per-country/solutions?code_type=1)                                                                    |                                                                                                                                                     |
| Hard       | [retention-rate](retention-rate.sql)                                                                     | [link](https://platform.stratascratch.com/coding/2053-retention-rate?code_type=1)                                                                                         | Use date_trunc() to find out active users in  <br/>in current month that are also active in a later month                                           |
| Hard       | [spotify-penetration-analysis](spotify-penetration-analysis.sql)                                         | [link](https://platform.stratascratch.com/coding/10369-spotify-penetration-analysis?code_type=1)                                                                          |                                                                                                                                                     |
| Hard       | [algorithm-performance](algorithm-performance.sql)                                                       | [link](https://platform.stratascratch.com/coding/10350-algorithm-performance?code_type=1)                                                                                 |                                                                                                                                                     |
| Hard       | [comments-distribution](comments-distribution.sql)                                                       | [link](https://platform.stratascratch.com/coding/10297-comments-distribution?code_type=1)                                                                                 |                                                                                                                                                     |
| Hard       | [popularity-percentage](meta/popularity-percentage.sql)                                                  | [link](https://platform.stratascratch.com/coding/10284-popularity-percentage?code_type=1)                                                                                 |                                                                                                                                                     |
| Hard       | [cum-sum-energy-consumption](meta/cum-sum-energy-consumption.sql)                                        | [link](https://platform.stratascratch.com/coding/10084-cum-sum-energy-consumption?code_type=1)                                                                            | Instead of coalesce, consider using union all                                                                                                       |
| Hard       | [fans-vs-opposition](meta/fans-vs-opposition.sql)                                                        | [link](https://platform.stratascratch.com/coding/10062-fans-vs-opposition?code_type=1)                                                                                    |                                                                                                                                                     |
| Hard       | [views-per-keyword](meta/views-per-keyword.sql)                                                          | [link](https://platform.stratascratch.com/coding/9791-views-per-keyword?code_type=1)                                                                                      | brim(col, string) to remove brackets  <br/> string_to_array() to convert string to array  <br/> unnest() to unwrap the array into individual values |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
| Hard       | [](meta/)                                                                                                | [link]()                                                                                                                                                                  |                                                                                                                                                     |
